IF (WIN32)
  ADD_LIBRARY(visca STATIC libvisca.cpp libvisca_win32.cpp)
  SET_TARGET_PROPERTIES(visca PROPERTIES COMPILE_FLAGS "-DDLL_EXPORTS=1")
ELSE()
  ADD_LIBRARY(visca STATIC libvisca.cpp libvisca_posix.cpp)
  SET_TARGET_PROPERTIES(visca PROPERTIES SOVERSION 0.2.0)
ENDIF()

INSTALL(TARGETS visca DESTINATION lib${LIB_SUFFIX})
INSTALL(FILES libvisca.h DESTINATION include/libvisca)